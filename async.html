<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>

    /*
        async 用于标识函数的
            1. async标识函数后,async函数的返回值会变成一个promise对象
            2. 如果函数内部返回的数据是一个非promise对象,async函数的结果会返回一个成功状态 promise对象
            3. 如果函数内部返回的是一个promise对象,则async函数返回的状态与结果由该对象决定
            4. 如果函数内部抛出的是一个异常,则async函数返回的是一个失败的promise对象

        await 帮助我们获取promise成功状态的返回值的关键字
            1 await右边如果是一个普通值，则直接返回宅值，如果右边事promise，返回promise成功状态的结果
                    let res = await "张三"
                    let res = await Promise.resolve("张三")
                     res = "张三"

            2 await右边如果是一个失败状态的promise，那么await会直接抛异常
            3 await关键字必须在async修饰的函数中使用，async函数中可以没有await
            4 await后边的代码会等待await执行完毕继续运行

        */

    async function fun1() {
        return new Error("error happening!")
    }

     async function fun2() {
        let res = await fun1()
         console.log("await got:" + res)
    }

    fun2()

    // async function fun1(){
    //     //return 10
    //     //throw new Error("something wrong")
    //     let promise = Promise.reject("heihei")
    //     return promise
    // }
    //
    // let promise =fun1()
    //
    // promise.then(
    //     function(value){
    //         console.log("success:"+value)
    //     }
    // ).catch(
    //     function(value){
    //         console.log("fail:"+value)
    //     }
    // )
</script>
</body>
</html>